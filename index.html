<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Microteaching -- Nahuel Statuto</title>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@4/dist/reveal.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@4/dist/theme/white.css" id="theme">
  <style>
    :root { --accent: #1f6feb; }
    .reveal { font-size: 34px; }
    .reveal .accent { color: var(--accent); }
    .reveal .box { border: 2px solid rgba(31,111,235,0.25); background: rgba(31,111,235,0.06); padding: 14px 18px; border-radius: 14px; }
    /* ... (puedes mantener el resto de tus estilos CSS aquí) ... */
  </style>
</head>
<body>
<div class="reveal">
  <div class="slides">
    <section><h1>k-means <span class="accent">en 10 minutos</span></h1></section>

    <section>
      <h1>k-means <span class="accent">en 10 minutos</span></h1>
      <p class="muted">Aprendizaje no supervisado · Clustering · Visualización 2D</p>
      <div class="box small">
        Objetivo: entender la intuición del algoritmo (asignar ? actualizar) y verlo funcionar.
      </div>
      <aside class="notes">
        Arranque: 1 frase de propósito + gancho (datos sin etiquetas).
        Menciona que habrá participación (brainstorming) y una demo visual.
      </aside>
    </section>

    <section>
      <h2>¿Qué haremos hoy?</h2>
      <ol>
        <li>ML en 60 segundos: <span class="accent">3 familias</span></li>
        <li>Por qué el <span class="accent">no supervisado</span> importa</li>
        <li>Construimos k-means <span class="accent">con el público</span></li>
        <li>Demo 2D paso a paso + aplicación real</li>
      </ol>
      <aside class="notes">
        Mantén el encuadre. Esto reduce ansiedad en público no técnico.
      </aside>
    </section>

    
  </div>
</div>

<script src="https://unpkg.com/reveal.js@4/dist/reveal.js"></script>
<script src="https://unpkg.com/reveal.js@4/plugin/notes/notes.js"></script>

<script>
  // CONFIGURACIÓN DE TU SERVIDOR RAILWAY
  const MULTIPLEX_URL = "https://multiplex.up.railway.app/";
  const MULTIPLEX_ID = "250f42f4b411021cfc47399a0dbf659b1989fe0079d4277a44fedb6268fd8c9b";
  const MULTIPLEX_SECRET = "3d7977d36f96fbbac3ffd041f2f56905";

  // Detectamos si entramos como master: index.html?master=true
  const isMaster = new URLSearchParams(window.location.search).has("master");

  function loadScript(src) {
    return new Promise((resolve, reject) => {
      const s = document.createElement("script");
      s.src = src; s.async = true;
      s.onload = resolve; s.onerror = reject;
      document.head.appendChild(s);
    });
  }

  async function startReveal() {
    try {
      // Cargamos socket.io y el plugin correspondiente desde el servidor multiplex
      await loadScript(`${MULTIPLEX_URL}socket.io/socket.io.js`);
      await loadScript(isMaster ? `${MULTIPLEX_URL}master.js` : `${MULTIPLEX_URL}client.js`);

      Reveal.initialize({
        hash: true,
        slideNumber: true,
        multiplex: {
          secret: isMaster ? MULTIPLEX_SECRET : null,
          id: MULTIPLEX_ID,
          url: MULTIPLEX_URL
        },
        plugins: [ RevealNotes ]
      });
    } catch (e) {
      console.error("Error cargando multiplex, iniciando modo local:", e);
      Reveal.initialize({ hash: true, plugins: [ RevealNotes ] });
    }
  }

  startReveal();
</script>
</body>
</html>